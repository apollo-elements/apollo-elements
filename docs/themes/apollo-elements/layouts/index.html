{{ define "main" }}
  <!-- Hero Logo -->
  <img class="page-logo" src="/logo.svg" alt="Apollo Elements Logo" width="250px" height="250px">

  <!-- Hero Title and Slogan -->
  <h1 class="page-title">{{ .Title | default .Site.Title }}</h1>

  <p class="page-slogan">{{ .Params.slogan | default .Site.Params.description }}</p>

  <!-- Call to Action Buttons -->
  <div class="call-to-action-list" role="list">
    <a class="call-to-action" href="/guides/" role="listitem">Guides</a>
    <a class="call-to-action" href="/api/" role="listitem">API Docs</a>
  </div>

  <!-- Hero Playground -->

  <docs-playground id="query-spacex">{{ highlight (readFile "_assets/demos/query-spacex/index.html") "html" "linenos=false" }}</docs-playground>

  <template data-playground-id="query-spacex"
            data-filename="type-policies.js">{{ readFile "_assets/demos/query-spacex/type-policies.js" }}</template>

  <template data-playground-id="query-spacex"
            data-filename="style.css">{{ readFile "_assets/demos/query-spacex/style.css" }}</template>

  <template data-playground-id="query-spacex"
            data-filename="components/spacex-launch.css">{{ readFile "_assets/demos/query-spacex/components/spacex-launch.css" }}</template>

  <template data-playground-id="query-spacex"
            data-filename="queries/LatestLaunch.graphql">{{ readFile "_assets/demos/query-spacex/queries/LatestLaunch.graphql" }}</template>

  <!-- Why Apollo Elements Section -->
  <section class="reasons">
    <h2 id="why-apollo-elements"
        class="reason-header">Why Apollo Elements?</h2>
    <article>
      <h3 id="high-performance">High-Performance</h3>
      Leverage the modern web platform to deliver less JavaScript, without sacrificing developer experience.
    </article>
    <article>
      <h3 id="graphql">GraphQL</h3>
      Write declarative, expressive frontends and manage client-side state using GraphQL.
    </article>
    <article>
      <h3 id="interoperable-reason">Interoperable</h3>
      Use your GraphQL components in any other frontend framework, or none!
    </article>
    <p>
      Write GraphQL web applications with <strong>declarative HTML</strong> templates.
      Define <strong>custom</strong> query, mutation, or subscription components in JavaScript or TypeScript using your favourite web component library.
      <strong>Mix and match</strong> programming styles and libraries in a single app, or publish GraphQL-connected components for use in any front-end framework.
    </p>
  </section>

  <!-- Libraries Section -->
  <section class="libraries-section">
    <div class="container">
      <h2 class="section-title">Use your Favourite Web Components Library</h2>
      <p class="section-description">
        Apollo Elements comes with support for popular web components libraries.
        Components built using different libraries can coexist seamlessly in the same app.
      </p>

      <ul id="libraries" class="libraries-grid">
        <li>
          <a href="/api/libraries/mixins/" class="library mixins">
            <figure>
              {{ readFile "_assets/brand-logos/html5.svg" | safeHTML }}
              <figcaption>Vanilla</figcaption>
            </figure>
          </a>
        </li>
        <li>
          <a href="/api/libraries/lit-apollo/" class="library lit-apollo">
            <figure>
              {{ readFile "_assets/brand-logos/lit.svg" | safeHTML }}
              <figcaption>Lit</figcaption>
            </figure>
          </a>
        </li>
        <li>
          <a href="/api/libraries/fast/" class="library fast">
            <figure>
              {{ readFile "_assets/brand-logos/fast.svg" | safeHTML }}
              <figcaption>FAST</figcaption>
            </figure>
          </a>
        </li>
        <li>
          <a href="/api/libraries/haunted/" class="library haunted">
            <figure>
              {{ readFile "_assets/brand-logos/haunted.svg" | safeHTML }}
              <figcaption>Haunted</figcaption>
            </figure>
          </a>
        </li>
        <li>
          <a href="/api/libraries/atomico/" class="library atomico">
            <figure>
              {{ readFile "_assets/brand-logos/atomico.svg" | safeHTML }}
              <figcaption>Atomico</figcaption>
            </figure>
          </a>
        </li>
        <li>
          <a href="/api/libraries/hybrids/" class="library hybrids">
            <figure>
              {{ readFile "_assets/brand-logos/hybrids.svg" | safeHTML }}
              <figcaption>Hybrids</figcaption>
            </figure>
          </a>
        </li>
        <li>
          <a href="/api/libraries/polymer/" class="library polymer">
            <figure>
              {{ readFile "_assets/brand-logos/polymer.svg" | safeHTML }}
              <figcaption>Polymer</figcaption>
            </figure>
          </a>
        </li>
      </ul>
    </div>
  </section>

  <!-- Main Content from Markdown -->
  <section class="main-content-section">
    <div class="container">
      <div class="markdown-body">
        <h2 id="interoperable">
          <a class="anchor" href="#interoperable">
            <svg class="octicon octicon-link" viewBox="0 0 16 16" aria-hidden="true" width="16" height="16">
              <path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path>
            </svg>
          </a>
          Interoperable
        </h2>

        <p>
          <strong>Write GraphQL components once</strong> and <strong>use them everywhere</strong> with ease.
          Elements created with Apollo Elements work in any framework or none,
          even in Angular, Preact, React, Svelte, or Vue apps.
        </p>

        <p>These demos all import the same Apollo Element component from NPM.</p>

        <wibbler-wobbler>
          <code-tabs id="demos" collection="frameworks">
            <article id="default-tab" slot="default">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 39.794 39.794">
                <path d="M32.901 39.794a3.32 3.32 0 01-1.933-.604L10.182 24.344l-6.001 6a.998.998 0 01-1.703-.622L.004 1.086A1 1 0 011.086.004l28.638 2.475a1 1 0 01.622 1.703l-6 6 14.847 20.786c.926 1.297.769 3.197-.359 4.325l-3.539 3.539c-.637.635-1.516.962-2.394.962zM10.075 22.038c.202 0 .406.061.581.186l21.475 15.339c.499.357 1.315.288 1.748-.146l3.539-3.539c.433-.434.501-1.25.146-1.749l-15.34-21.474a1 1 0 01.107-1.288l5.081-5.081L2.098 2.098l2.188 25.314 5.081-5.081a.999.999 0 01.708-.293z"/>
              </svg>
              <p>Click a tab to view the demo</p>
            </article>
            {{ range .Params.frameworkDemos }}
              <code-tab no-copy
                        data-id="{{ .framework }}"
                        data-synonyms="{{ .frameworkAlt }}"
                        data-label="{{ .frameworkAlt }}"
                        data-color="{{ .color }}"
                        data-icon-href="{{ printf "/brand-logos/%s.svg" .framework }}">
                <codesandbox-button sandbox-id="{{ .sandboxId }}" module="{{ .module }}">
                  <span slot="button" hidden></span>
                </codesandbox-button>
              </code-tab>
            {{ end }}
          </code-tabs>
        </wibbler-wobbler>

        <script type="module">
          const demos = document.getElementById('demos');
          if (demos) {
            demos.addEventListener('select', loadDemo);
            function loadDemo() {
              const selectedTab = demos.querySelector('code-tab[selected]');
              const sandbox = selectedTab?.querySelector('codesandbox-button');
              if (sandbox) {
                const currentTheme = document.documentElement.getAttribute('data-theme') ||
                  (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light');
                sandbox.theme = currentTheme;
                sandbox.showDemo = true;
              }
            }

            // Listen for theme changes to update sandbox themes
            document.addEventListener('themechange', (event) => {
              const sandboxes = demos.querySelectorAll('codesandbox-button');
              sandboxes.forEach(sandbox => {
                sandbox.theme = event.detail.theme;
              });
            });
          }
        </script>
      </div>
    </div>
  </section>
{{ end }}
