{{/* render-event.html - Renders an event in <type-doc> format with DSD */}}
{{/* Note: Uses same structure as type-doc shortcode */}}
{{- $event := . -}}
{{- $id := $event.name | lower -}}
{{- $emptyBody := not $event.description -}}

<type-doc kind="event" data-event="{{ $event.name }}"{{- if $emptyBody }} data-empty-body{{- end -}}>
  {{ partial "cem/type-doc-dsd.html" . }}


  <h3 id="{{ $id }}" class="" slot="name">
    <a class="anchor" href="#{{ $id }}">
      {{ partial "cem/octicon-link.html" . }}
    </a>{{ $event.name }}
  </h3>

  {{- with $event.type -}}
    <span slot="type"><pre class="language-ts"><code class="language-ts">{{ .text }}</code></pre></span>
  {{- end -}}

  {{- with $event.description -}}
    {{ . | replaceRE "\\{lang=\\w+\\}" "" | markdownify }}
  {{- end -}}
</type-doc>
