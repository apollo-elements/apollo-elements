{{/* render-property.html - Renders a property in <type-doc> format with DSD */}}
{{/* Note: Uses same structure as type-doc shortcode */}}
{{- $property := . -}}
{{- $id := $property.name | lower -}}
{{- $emptyBody := and (not $property.summary) (not $property.description) -}}

<type-doc kind="property"
          data-property="{{ $property.name }}"
          {{- if $emptyBody }} data-empty-body{{- end -}}>
  {{ partial "cem/type-doc-dsd.html" . }}
  <h3 id="{{ $id }}" slot="name">
    <a class="anchor" href="#{{ $id }}">
      {{ partial "cem/octicon-link.html" . }}
    </a>{{ $property.name }}
  </h3>
  {{- if $property.privacy -}}<em slot="attribute">{{ $property.privacy }}</em>{{- end -}}
  {{- if $property.static -}}<em slot="attribute">static</em>{{- end -}}
  {{- if $property.optional -}}<span slot="attribute">(optional)</span>{{- end -}}
  {{- if $property.readonly -}}<span slot="attribute">(read-only)</span>{{- end -}}
  {{- with $property.type -}}
    <span slot="type">{{ highlight .text "typescript" "" }}</span>
  {{- end -}}
  {{- with $property.summary -}}
    {{ . | replaceRE "\\{lang=\\w+\\}" "" | markdownify }}
  {{- end -}}
  {{- with $property.description -}}
    {{ . | replaceRE "\\{lang=\\w+\\}" "" | markdownify }}
  {{- end -}}
</type-doc>
