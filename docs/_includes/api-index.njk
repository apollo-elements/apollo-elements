{% extends 'with-sidebar.njk' %}

{% from "partials/custom-elements-manifest/get-manifest.njk" import manifest, packageJson with context %}

{% from "partials/custom-elements-manifest/macros.njk" import exports %}

{% set moduleData = {} %}

{% block main %}
  <main class="markdown-body">
    {% include 'partials/addTitleHeadline.njk' %}
    {{ content | safe }}

    <header id="package-header">
      <h2><code>{{ package }}</code></h2>
      <a class="package-link" href="https://npm.im/{{ package }}" target="_blank" rel="noreferrer noopener">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 7" aria-label="{{ package }} on NPM">
          <path fill="#CB3837" d="M0 0h18v6H9v1H5V6H0V0zm1 5h2V2h1v3h1V1H1v4zm5-4v5h2V5h2V1H6zm2 1h1v2H8V2zm3-1v4h2V2h1v3h1V2h1v3h1V1h-6z"/>
          <path fill="#FFF" d="M1 5h2V2h1v3h1V1H1zM6 1v5h2V5h2V1H6zm3 3H8V2h1v2zM11 1v4h2V2h1v3h1V2h1v3h1V1z"/>
        </svg>
      </a>

      <a class="package-link" href="{{ packageJson | getGitHubURL }}" target="_blank" rel="noreferrer noopener">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 17 16" fill="none" aria-label="GitHub">
          <path fill="currentColor" fill-rule="evenodd" d="M8.18391.249268C3.82241.249268.253906 3.81777.253906 8.17927c0 3.46933 2.279874 6.44313 5.451874 7.53353.3965.0991.49563-.1983.49563-.3965v-1.3878c-2.18075.4956-2.67638-.9912-2.67638-.9912-.3965-.8922-.89212-1.1895-.89212-1.1895-.69388-.4957.09912-.4957.09912-.4957.793.0992 1.1895.793 1.1895.793.69388 1.2887 1.88338.8922 2.27988.6939.09912-.4956.29737-.8921.49562-1.0904-1.78425-.1982-3.5685-.8921-3.5685-3.96496 0-.89212.29738-1.586.793-2.08162-.09912-.19825-.3965-.99125.09913-2.08163 0 0 .69387-.19825 2.18075.793.59475-.19825 1.28862-.29737 1.9825-.29737.69387 0 1.38775.09912 1.98249.29737 1.4869-.99125 2.1808-.793 2.1808-.793.3965 1.09038.1982 1.88338.0991 2.08163.4956.59475.793 1.28862.793 2.08162 0 3.07286-1.8834 3.66766-3.66764 3.86586.29737.3965.59474.8921.59474 1.586v2.1808c0 .1982.0991.4956.5948.3965 3.172-1.0904 5.4518-4.0642 5.4518-7.53353-.0991-4.3615-3.6676-7.930002-8.02909-7.930002z" clip-rule="evenodd"></path>
        </svg>
      </a>
    </header>

    {% for module in manifest.modules %}
      {% if module and module.path and (module.path == './index.js') or (module.path == './index.ts') %}
        {% if module.exports %}
          {%- block exports -%}
            {{ exports(module, packageName=package, splitLines=true) }}
          {%- endblock -%}
        {% endif %}
      {% endif %}
    {% endfor %}

    {% include 'partials/previousNext.njk' %}
    {% include 'partials/content-footer.njk' %}

  </main>
  <style data-helmet>
    #package-header {
      align-items: center;
      display: flex;
      gap: 16px;
      padding: 10px 0;
    }

    #package-header h2 {
      border: 0;
      margin: 0;
    }

    #package-header h2 code {
      background: none;
    }

    #package-header .package-link:first-of-type {
      margin-inline-start: auto;
    }

    #package-header .package-link {
      color: var(--text-color);
      height: 30px;
      display: block;
    }

    #package-header .package-link svg {
      height: 100%;
    }
  </style>
{% endblock main %}
